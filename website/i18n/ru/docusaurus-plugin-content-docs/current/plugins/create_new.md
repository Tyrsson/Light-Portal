---
sidebar_position: 2
---

# Создание плагина
Плагины, или аддоны — дополнения, расширяющие возможности портала. Чтобы создать собственный аддон для Light Portal, достаточно следовать инструкциям ниже.

:::info Информация

С версии 1.9 функционал для создания плагинов вынесен в отдельный плагин — **PluginMaker**. Скачайте и подключите его на странице _Админка -> Настройки портала -> Плагины_.

:::

## Выбор типа аддона
На данный момент в Light Portal доступны следующие типы дополнений (их всего 12, Карл!):

* 'block' — аддоны, добавляющие новый вид блоков для портала
* 'editor' — аддоны, добавляющие сторонний редактор для разных типов контента
* 'comment' — аддоны, добавляющие сторонний виджет комментариев, вместо стандартного
* 'parser' — аддоны, реализующие парсер контента страниц и блоков
* 'article' — аддоны для обработки содержимого карточек статей на главной
* 'frontpage' — аддоны для изменения главной страницы портала
* 'impex' — аддоны для импорта и экспорта различных элементов портала
* 'block_options' и 'page_options' — аддоны, добавляющие дополнительные параметры для соответствующей сущности (блока или страницы)
* 'icons' — аддоны, добавляющие новые библиотеки иконок для замены элементов интерфейса или использования в заголовках блоков
* 'seo' — аддоны, тем или иным образом влияющие на видимость форума в сети
* 'other' — аддоны, не входящие ни в одну из категорий выше

## Создание директории аддона
Создайте отдельную папку для файлов вашего дополнения, внутри `/Sources/LightPortal/Addons`. Например, если ваш аддон называется `HelloWorld`, структура папки должна выглядеть так:

```
    ...(Addons)
        HelloWorld\
            langs\
                 english.php
                 index.php
                 russian.php
            index.php
            HelloWorld.php
```

Файл `index.php` можно скопировать из папок других дополнений. В файле `HelloWorld.php` содержится логика плагина:

```php
<?php

/**
 * HelloWorld.php (имя текущего файла)
 *
 * @package HelloWorld (Light Portal) (название дополнения и портала)
 * @link https://dragomano.ru/mods/light-portal (ссылка на страницу портала, либо на страницу вашего дополнения, если оно не идет в комплекте с порталом)
 * @author Ваш никнейм и почта
 * @copyright Год создания дополнения и ваш никнейм
 * @license Ссылка на лицензию, под которой распространяется ваше дополнение, и название лицензии
 *
 * @category addon
 * @version 08.01.22 (дата создания а затем последнего обновления исходного кода дополнения)
 */

namespace Bugo\LightPortal\Addons\HelloWorld;

use Bugo\LightPortal\Addons\Plugin;

if (! defined('LP_NAME'))
	die('No direct access...');

class HelloWorld extends Plugin
{
    // Используемые свойства и методы
    // Обращение к глобальным переменным: $this->context['user'], $this->modSettings['variable'] и т. д.
    // Обращение к языковым переменным: $this->txt['lp_hello_world']['variable_name']
}

```

## Использование Composer
Ваш плагин может использовать сторонние библиотеки, устанавливающиеся через Composer. Убедитесь, что в директории плагина расположен файл `composer.json`, в котором указаны необходимые зависимости. Перед публикацией вашего плагина откройте директорию плагина в командной строке и выполните команду: `composer install --no-dev -o`. После этого всё содержимое директории плагина можно упаковать как отдельную модификацию для SMF (для примера см. пакет **PluginMaker**).
